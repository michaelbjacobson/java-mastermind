node {
    def app

    stage('Clone repo') {
        sh 'docker login -u AWS -p QVdTOmV5SndZWGxzYjJGa0lqb2lUVlExV2pCbU5qWklTMk5tU0hwVlFWRkpOWFJ1WW1wblpYSlNkbEJIUzBWWUx5dFhWWEUzTTBORVJHWXdZbWxVVFZWR1NVZEZPVmRsTWtWVlQweDJOV2MwZVhsU1VESkNLMkpoZDBsblRESk1SWEkxVGtJNFlVZDFNbFI2WW1nMVJrcFRWR2RHVmxSTllXMVRjMjVRY1U5NGMwVnphM2hqWTBoUVFVbG9jak5tVTFWSlVUVndWRGcyVVVvMFRFTnBjV3hqUW1aRlRXY3lSMGxSVkVORGRqTlRVVEJ4U0ZkUU1sQkpNbU50Y213elZ6UkhRa2xWZURRNE0xZHRUV2cxTlRVNWVXNU1aMWxIV21kR1FrOVVhM1JNTldSU1Zra3ZUMU5IYUVoV1lXVXdNVmhzU1dGSFpHMW1TbXRNT0dKSlVFMVBjM05EYmtOcGRXY3dVV2MxYmxkNWNEVkdOWHBoZWt0b1FXSXlka05QZEdkT1NFaDFSMEZxTUdoWFdYWlBSakJoTm05b2JFTTFUMEZIT0VGUk1Tc3ZSMDlPWVdKbmJVVnNWVnBXSzAxREswdGxRekppVjBaMGMwdHVWVXRTZWpFek1ITTBWR0p5ZW1sT1RYSmpiMjB2WkZaVVNIVTNXbEl3WmxJeFZIZEtiMWxIY1ROM2QxSkJiVUZtTlhGVmNrVkNhRXBCVVRGdU56TnphRlV4WWxOWU9IZHFLMFpRVGsxWWJERjFOalYxYzNkeFEzUnZlazFxUmpKRlpERmFNVFp2WlhwUVFVNXdUbUZCTDNaWWVuRXhhR0VyWjFWU1dWWlVjek5OV0VwM1EySk5TbGRZY1ROUU9HOVBUMHBxWm1kWVNFaG1PVWgyWXpSNE4zUm5RVFU0TUN0TFJFaFNiM2QxU2tWWE1YbEtaREJzZVU1WFdIbDRVR1JYTUZOT1VGTnJTMnRIVEhZNWRTdEdUMk5XWlRoRVlrdG5VM1JXVFdSbVZUVkpkMDlIVTJkRGVEQlZTME40U2pCck5VcFdRa2xpUmpKR2QzUkxlSGh0YUU5WVpFUmFWVVZSWjJzemRrcHJZalJYTVZad2JVWklRbkJGVlhCd1UzQnJlRzF0TlhjMU9IVk1abmRzVFZjNVlYZ3JlSGxsTTFOdlRuUkJiVkpwVDFoNlRYTmpNMGczY25wbVZHVXJXVlozU0ZGbGRHbFBaWFJtUjNSR2NteDRiUzh2VTAxVFUweDNjVWRpV0hGTWVVODFXVFJuZUZrelREVjVOMFJCYW5acmIwNXVNRWhIYzFCQ1QzUm9XVTF2V0ZWUWJESlVSbk5oUldSMU9ITndOMUpFWlM5ek1UVldkMjFFVmxaVFp6bFdTRFkzUjNvNFowUjNTRGxITW1wSFpEaHRjRGR0UXpka1lsUmhZa0Y1UjBOQ09URktZa0Y2YTI5NmFsRnhMM2R0Tm5SSEwyZExNV0V4VFRObVUySXdjMmxRYjNGMWRIRk5TbXBZU1VwVWJHcEJUVXMyYVZkSVQzcFViazhyVGpVdlFrdDBWV2xzTVdWU2VVUlRTelV3UlZOWlMwVTRMMnhaVFRscWNXaDBUbFpzWTJNMGNYbGtOMFpQUkZKaGJVVktjMXA1YVV4NFJqQllZV3BQTTI4d05Wb3ZiVlZSVm5vMFQxVnlkREJIYTI1WGVWRXpZbmswUmsxUlFVWjRjV05HVFdSR05YYzRiV0pLWlRsa1NsbDNTWEY1TWpjNFFWRXJVa3R6UVU1ak0weHJSV0pXWjNsRFNYVjRSV3BYY1hkeGFWRm5WMlJ5WWpRMVdHeDNOM0ZIWlZSbVpUbGlTV0pKUzAweVJqVklkSHA1WTI5SmVEbExZMGRPZW5CU2JXZ3JRbFZZV213eVowZ3daVk5xUVhaTk1WZHZVSE5xY0RKNlFpOTZhazAyYVhaS1JGSnhlakE5SWl3aVpHRjBZV3RsZVNJNklrRlJSVUpCU0doM2JUQlpZVWxUU21WU2RFcHROVzR4UnpaMWNXVmxhMWgxYjFoWVVHVTFWVVpqWlRsU2NUZ3ZNVFIzUVVGQlNEUjNaa0ZaU2t0dldrbG9kbU5PUVZGalIyOUhPSGRpVVVsQ1FVUkNiMEpuYTNGb2EybEhPWGN3UWtKM1JYZElaMWxLV1VsYVNVRlhWVVJDUVVWMVRVSkZSVVJITWxOUk1tZDFXbE16TDBRNVNVRkRkMGxDUlVsQk56VkxPREJHY0dKQ1YwRnFjVTkwVTFnMVVFd3ZWVFJ1Yld0NFdUSTFNMmxCUjJoaGIyTnFMMEZCY1VSTU5VeG1TazFWYml0eGFrbFpia0ZVVlRSSVNFRkVUVmgxU2pWT1ducDBUblI0S3pnOUlpd2lkbVZ5YzJsdmJpSTZJaklpTENKMGVYQmxJam9pUkVGVVFWOUxSVmtpTENKbGVIQnBjbUYwYVc5dUlqb3hOVEl6TXpFMU5UUXhmUT09== https://445579089480.dkr.ecr.us-east-1.amazonaws.com'
        checkout scm
    }

    stage('Build image') {
        app = docker.build("mastermind")
    }

}
